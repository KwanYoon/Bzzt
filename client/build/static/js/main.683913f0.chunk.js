(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(0),c=n.n(r),i=n(9),o=n.n(i),s=n(15),l=n(20),u=n(57),d=n(63),j="CREATE",b="UPDATE",p="DELETE",f="FETCH_ALL",h="LIKE",x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload;case j:return[].concat(Object(d.a)(e),[t.payload]);case b:case h:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case p:return e.filter((function(e){return e._id!==t.payload}));default:return e}},O=Object(l.c)({posts:x}),m=n(36),v=n(137),g=n(142),y=n(140),C=n(139),k=n(143),w=n(14),N=n.n(w),I=n(24),E=n(31),F=n.n(E),T="https://bzzt-social-media.herokuapp.com/posts",B=function(){return F.a.get(T)},D=function(e){return F.a.post(T,e)},L=function(e,t){return F.a.patch("".concat(T,"/").concat(e),t)},_=function(e){return F.a.delete("".concat(T,"/").concat(e))},S=function(e){return F.a.patch("".concat(T,"/").concat(e,"/likePost"))},W=function(){return function(){var e=Object(I.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:n=e.sent,a=n.data,t({type:f,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(I.a)(N.a.mark((function t(n){var a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B();case 3:a=t.sent,r=a.data,n(e?{type:f,payload:r}:{type:f,payload:r.reverse()}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},A=n(130),R=Object(A.a)((function(e){return{navBar:{backgroundColor:"black",textAlign:"center",alignItems:"center",margin:"40px 0",justifyContent:"center",color:"#dac400",borderRadius:"20px",display:"flex",flexDirection:"row"},bee:{borderRadius:"10px",marginLeft:"20px"},content:{display:"flex",flexDirection:"column"},posts:{marginLeft:"0",width:"100%"},form:{width:"100%"},line:{margin:"auto",marginTop:"30px",marginBottom:"30px",backgroundColor:"black",width:"90%"}}})),z=n.p+"static/media/bee.4a436364.png",P=n(136),J=n(138),M=Object(A.a)((function(e){return{mainContainer:{alignItems:"center"}}})),K=n(133),U=n(135),V=n(61),q=n.n(V),G=Object(A.a)((function(e){return{postCard:{display:"flex",flexDirection:"row",borderRadius:"15px",backgroundColor:"black"},media:{width:0,height:"auto",paddingLeft:"30%"},content:{paddingLeft:"5%",backgroundColor:"black",color:"#dac400",width:"100%"},line:{margin:"auto",marginTop:"30px",marginBottom:"30px",backgroundColor:"black",width:"90%"},button:{paddingBottom:"175px",paddingRight:"50px"}}})),Q=function(e){var t=e.post,n=e.setCurrentId,r=G(),c=Object(s.b)();return Object(a.jsxs)("div",{children:[Object(a.jsxs)(K.a,{className:r.postCard,children:[Object(a.jsx)(U.a,{className:r.media,image:t.selectedFile}),Object(a.jsxs)("div",{className:r.content,children:[Object(a.jsx)("h1",{children:t.title}),Object(a.jsxs)("h2",{children:["By: ",t.creator]}),Object(a.jsx)("h5",{children:q()(t.createdAt).fromNow()}),Object(a.jsx)("h4",{children:t.message}),Object(a.jsx)("h4",{children:t.tags.map((function(e){return"#".concat(e," ")}))})]}),Object(a.jsxs)(g.a,{style:{color:"white"},onClick:function(){return c((e=t._id,function(){var t=Object(I.a)(N.a.mark((function t(n){var a,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:a=t.sent,r=a.data,n({type:h,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var e},className:r.button,children:["Like ",t.likeCount]}),Object(a.jsx)(g.a,{style:{color:"white"},onClick:function(){return n(t._id)},className:r.button,children:"EDIT"}),Object(a.jsx)(g.a,{style:{color:"white"},onClick:function(){return c((e=t._id,function(){var t=Object(I.a)(N.a.mark((function t(n){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:n({type:p,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},className:r.button,children:"Delete"})]}),Object(a.jsx)("hr",{className:r.line})]})},X=function(e){var t=e.setCurrentId,n=Object(s.c)((function(e){return e.posts})),r=M(),c=Object(s.b)();return 0===n.length?Object(a.jsx)(P.a,{}):Object(a.jsxs)(v.a,{className:r.mainContainer,children:[Object(a.jsx)(g.a,{onClick:function(){c(H(!0))},children:"Oldest First"}),Object(a.jsx)(g.a,{onClick:function(){c(H(!1))},children:"Newest First"}),n.map((function(e){return Object(a.jsx)(J.a,{children:Object(a.jsx)(Q,{post:e,setCurrentId:t})},e._id)}))]})},Y=n(17),Z=n(65),$=n(141),ee=n(62),te=n.n(ee),ne=Object(A.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2),backgroundColor:"white"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),ae=function(e){var t=e.currentId,n=e.setCurrentId,c=Object(r.useState)({creator:"",title:"",message:"",tags:"",selectedFile:""}),i=Object(m.a)(c,2),o=i[0],l=i[1],u=Object(s.c)((function(e){return t?e.posts.find((function(e){return e._id===t})):null})),d=Object(s.b)(),p=ne();Object(r.useEffect)((function(){u&&l(u)}),[u]);var f=function(){n(null),l({creator:"",title:"",message:"",tags:"",selectedFile:""})};return Object(a.jsx)(Z.a,{className:p.paper,children:Object(a.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(p.root," ").concat(p.form),onSubmit:function(e){var n,a,r;e.preventDefault(),t?(d((a=t,r=o,function(){var e=Object(I.a)(N.a.mark((function e(t){var n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L(a,r);case 3:n=e.sent,c=n.data,t({type:b,payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),d(W())):d((n=o,function(){var e=Object(I.a)(N.a.mark((function e(t){var a,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D(n);case 3:a=e.sent,r=a.data,t({type:j,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),f()},children:[Object(a.jsx)(C.a,{variant:"h6",children:"Create a Post"}),Object(a.jsx)($.a,{name:"creator",variant:"outlined",label:"Creator",fullWidth:!0,value:o.creator,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{creator:e.target.value}))}}),Object(a.jsx)($.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:o.title,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{title:e.target.value}))}}),Object(a.jsx)($.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,value:o.message,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{message:e.target.value}))}}),Object(a.jsx)($.a,{name:"tags",variant:"outlined",label:"Tags",fullWidth:!0,value:o.tags,onChange:function(e){return l(Object(Y.a)(Object(Y.a)({},o),{},{tags:e.target.value.replace(/\s/g,"").split(",")}))}}),Object(a.jsx)("div",{className:p.fileInput,children:Object(a.jsx)(te.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return l(Object(Y.a)(Object(Y.a)({},o),{},{selectedFile:t}))}})}),Object(a.jsx)(g.a,{className:p.buttonSubmit,fullWidth:!0,color:"primary",variant:"contained",type:"submit",children:"Submit"}),Object(a.jsx)(g.a,{onClick:f,fullWidth:!0,color:"secondary",variant:"contained",children:"Clear"})]})})},re=(n(100),{hidden:{display:"none"},nonHidden:{display:"block"}}),ce=c.a.createContext(re.hidden),ie=function(){var e=c.a.useContext(ce).hide,t=Object(r.useState)(null),n=Object(m.a)(t,2),i=n[0],o=n[1],l=R(),u=Object(s.b)();return Object(r.useEffect)((function(){u(W())}),[i,u]),Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(oe,{})}),Object(a.jsx)(v.a,{className:l.form,style:{display:e.display},children:Object(a.jsx)(ae,{currentId:i,setCurrentId:o})}),Object(a.jsx)("hr",{className:l.line}),Object(a.jsx)(v.a,{className:l.posts,children:Object(a.jsx)(X,{setCurrentId:o})})]})},oe=function(){var e=c.a.useContext(ce).setHide;return Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{onClick:function(){e("hidden")},children:"Hide Form"}),Object(a.jsx)(g.a,{onClick:function(){e("nonHidden")},children:"Show Form"})]})},se=function(){var e=R(),t=c.a.useState("hidden"),n=Object(m.a)(t,2),r=n[0],i=n[1];return Object(a.jsxs)(v.a,{maxwidth:"lg",children:[Object(a.jsxs)(y.a,{className:e.navBar,position:"static",children:[Object(a.jsx)(C.a,{align:"center",variant:"h2",children:"Bzzt"}),Object(a.jsx)("img",{className:e.bee,src:z,alt:"bee",height:"60",width:"60"})]}),Object(a.jsx)(k.a,{in:!0,children:Object(a.jsx)(v.a,{className:e.content,children:Object(a.jsx)(ce.Provider,{value:{hide:re[r],setHide:i},children:Object(a.jsx)(ie,{})})})})]})},le=Object(l.e)(O,Object(l.d)(Object(l.a)(u.a)));o.a.render(Object(a.jsx)(s.a,{store:le,children:Object(a.jsx)(se,{})}),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.683913f0.chunk.js.map