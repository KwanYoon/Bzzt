(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t,n){},130:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(9),i=n.n(o),s=n(17),l=n(30),u=n(78),d=n(89),j="CREATE",p="UPDATE",b="DELETE",h="FETCH_ALL",f="LIKE",O="AUTH",m="LOGOUT",x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload;case j:return[].concat(Object(d.a)(e),[t.payload]);case p:case f:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case b:return e.filter((function(e){return e._id!==t.payload}));default:return e}},g=n(11),v=n.n(g),y=n(15),C=n(20),w=function(){var e=Object(C.a)(v.a.mark((function e(){var t,n,a=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.length>0&&void 0!==a[0]?a[0]:{authData:null},n=a.length>1?a[1]:void 0,e.t0=n.type,e.next=e.t0===O?5:e.t0===m?7:9;break;case 5:return localStorage.setItem("profile",JSON.stringify(Object(y.a)({},null===n||void 0===n?void 0:n.data))),e.abrupt("return",Object(y.a)(Object(y.a)({},t),{},{authData:null===n||void 0===n?void 0:n.data}));case 7:return localStorage.clear(),e.abrupt("return",Object(y.a)(Object(y.a)({},t),{},{authData:null}));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object(l.c)({posts:x,auth:w}),N=n(25),S=n(169),I=n(167),T=n(177),F=n(41),D=n(13),L=n(79),E=n.n(L).a.create({baseURL:"https://bzzt-social-media.herokuapp.com"}),B=function(){return E.get("/posts")},P=function(e){return E.post("/posts",e)},A=function(e,t){return E.patch("/posts/".concat(e),t)},W=function(e){return E.delete("/posts/".concat(e))},_=function(e){return E.patch("/posts/".concat(e,"/likePost"))},H=function(e){return E.post("/user/signin",e)},U=function(e){return E.post("/user/signup",e)},R=function(){return function(){var e=Object(C.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:n=e.sent,a=n.data,t({type:h,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(C.a)(v.a.mark((function t(n){var a,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B();case 3:a=t.sent,r=a.data,n(e?{type:h,payload:r}:{type:h,payload:r.reverse()}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},J=n(161),z=Object(J.a)((function(e){return{content:{display:"flex",flexDirection:"column"},posts:{marginLeft:"0",width:"100%"},form:{width:"100%"},line:{margin:"auto",marginTop:"30px",marginBottom:"30px",backgroundColor:"black",width:"90%"}}})),M=n(168),V=n(170),q=Object(J.a)((function(e){return{mainContainer:{alignItems:"center"}}})),K=n(164),Z=n(166),Q=n(83),X=n.n(Q),Y=Object(J.a)((function(e){return{postCard:{display:"flex",flexDirection:"row",borderRadius:"15px",backgroundColor:"black"},media:{width:0,height:"auto",paddingLeft:"30%"},content:{paddingLeft:"5%",backgroundColor:"black",color:"#dac400",width:"100%"},line:{margin:"auto",marginTop:"30px",marginBottom:"30px",backgroundColor:"black",width:"90%"},button:{paddingBottom:"175px",paddingRight:"50px"}}})),$=function(e){var t=e.post,n=e.setCurrentId,r=Y(),c=Object(s.b)();return Object(a.jsxs)("div",{children:[Object(a.jsxs)(K.a,{className:r.postCard,children:[Object(a.jsx)(Z.a,{className:r.media,image:t.selectedFile}),Object(a.jsxs)("div",{className:r.content,children:[Object(a.jsx)("h1",{children:t.title}),Object(a.jsxs)("h2",{children:["By: ",t.creator]}),Object(a.jsx)("h5",{children:X()(t.createdAt).fromNow()}),Object(a.jsx)("h4",{children:t.message}),Object(a.jsx)("h4",{children:t.tags.map((function(e){return"#".concat(e," ")}))})]}),Object(a.jsxs)(I.a,{style:{color:"white"},onClick:function(){return c((e=t._id,function(){var t=Object(C.a)(v.a.mark((function t(n){var a,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_(e);case 3:a=t.sent,r=a.data,n({type:f,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var e},className:r.button,children:["Like ",t.likeCount]}),Object(a.jsx)(I.a,{style:{color:"white"},onClick:function(){return n(t._id)},className:r.button,children:"EDIT"}),Object(a.jsx)(I.a,{style:{color:"white"},onClick:function(){return c((e=t._id,function(){var t=Object(C.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(e);case 3:n({type:b,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},className:r.button,children:"Delete"})]}),Object(a.jsx)("hr",{className:r.line})]})},ee=function(e){var t=e.setCurrentId,n=Object(s.c)((function(e){return e.posts})),r=q(),c=Object(s.b)();return 0===n.length?Object(a.jsx)(M.a,{}):Object(a.jsxs)(S.a,{className:r.mainContainer,children:[Object(a.jsx)(I.a,{onClick:function(){c(G(!0))},children:"Oldest First"}),Object(a.jsx)(I.a,{onClick:function(){c(G(!1))},children:"Newest First"}),n.map((function(e){return Object(a.jsx)(V.a,{children:Object(a.jsx)($,{post:e,setCurrentId:t})},e._id)}))]})},te=n(91),ne=n(132),ae=n(176),re=n(84),ce=n.n(re),oe=Object(J.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2),backgroundColor:"white"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),ie=function(e){var t=e.currentId,n=e.setCurrentId,c=Object(r.useState)({creator:"",title:"",message:"",tags:"",selectedFile:""}),o=Object(N.a)(c,2),i=o[0],l=o[1],u=Object(s.c)((function(e){return t?e.posts.find((function(e){return e._id===t})):null})),d=Object(s.b)(),b=oe();Object(r.useEffect)((function(){u&&l(u)}),[u]);var h=function(){n(null),l({creator:"",title:"",message:"",tags:"",selectedFile:""})};return Object(a.jsx)(te.a,{className:b.paper,children:Object(a.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(b.root," ").concat(b.form),onSubmit:function(e){var n,a,r;e.preventDefault(),t?(d((a=t,r=i,function(){var e=Object(C.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A(a,r);case 3:n=e.sent,c=n.data,t({type:p,payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),d(R())):d((n=i,function(){var e=Object(C.a)(v.a.mark((function e(t){var a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(n);case 3:a=e.sent,r=a.data,t({type:j,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),h()},children:[Object(a.jsx)(ne.a,{variant:"h6",children:"Create a Post"}),Object(a.jsx)(ae.a,{name:"creator",variant:"outlined",label:"Creator",fullWidth:!0,value:i.creator,onChange:function(e){return l(Object(y.a)(Object(y.a)({},i),{},{creator:e.target.value}))}}),Object(a.jsx)(ae.a,{name:"title",variant:"outlined",label:"Title",fullWidth:!0,value:i.title,onChange:function(e){return l(Object(y.a)(Object(y.a)({},i),{},{title:e.target.value}))}}),Object(a.jsx)(ae.a,{name:"message",variant:"outlined",label:"Message",fullWidth:!0,value:i.message,onChange:function(e){return l(Object(y.a)(Object(y.a)({},i),{},{message:e.target.value}))}}),Object(a.jsx)(ae.a,{name:"tags",variant:"outlined",label:"Tags",fullWidth:!0,value:i.tags,onChange:function(e){return l(Object(y.a)(Object(y.a)({},i),{},{tags:e.target.value.replace(/\s/g,"").split(",")}))}}),Object(a.jsx)("div",{className:b.fileInput,children:Object(a.jsx)(ce.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return l(Object(y.a)(Object(y.a)({},i),{},{selectedFile:t}))}})}),Object(a.jsx)(I.a,{className:b.buttonSubmit,fullWidth:!0,color:"primary",variant:"contained",type:"submit",children:"Submit"}),Object(a.jsx)(I.a,{onClick:h,fullWidth:!0,color:"secondary",variant:"contained",children:"Clear"})]})})},se=n(172),le=n(173),ue=n(178),de=n(171),je=Object(J.a)((function(e){return{navBar:{backgroundColor:"black",textAlign:"center",alignItems:"center",margin:"40px 0",justifyContent:"center",color:"white",borderRadius:"20px",display:"flex",flexDirection:"row"},heading:{textDecoration:"none",color:"#dac400"},bee:{borderRadius:"10px",marginLeft:"20px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"40vw"},profile:{display:"flex",justifyContent:"space-between",width:"20vw"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},purple:{color:e.palette.getContrastText(de.a[500]),backgroundColor:de.a[500]}}})),pe=n.p+"static/media/bee.4a436364.png",be=function(){var e=je(),t=Object(s.b)(),n=Object(D.f)(),c=Object(D.g)(),o=Object(r.useState)(JSON.parse(localStorage.getItem("profile"))),i=Object(N.a)(o,2),l=i[0],u=i[1];return Object(r.useEffect)((function(){u(JSON.parse(localStorage.getItem("profile")))}),[c]),Object(a.jsxs)(se.a,{className:e.navBar,position:"static",children:[Object(a.jsxs)("div",{className:e.brandContainer,children:[Object(a.jsx)(ne.a,{component:F.b,className:e.heading,to:"/",align:"center",variant:"h2",children:"Bzzt"}),Object(a.jsx)("img",{className:e.bee,src:pe,alt:"bee",height:"60",width:"60"})]}),Object(a.jsx)(le.a,{className:e.toolbar,children:l?Object(a.jsxs)("div",{className:e.profile,children:[Object(a.jsx)(ue.a,{className:e.avatar,alt:l.result.name,src:l.result.imageUrl,children:l.result.name.charAt(0)}),Object(a.jsx)(ne.a,{className:e.userName,variant:"h6",children:l.result.name}),Object(a.jsx)(I.a,{variant:"contained",className:e.logout,color:"secondary",onClick:function(){t({type:"LOGOUT"}),n.push("/"),u(null)},children:"Logout"})]}):Object(a.jsx)(I.a,{component:F.b,to:"/auth",variant:"contained",color:"default",children:"Sign In"})})]})},he=n(54),fe=n(88),Oe=n.n(fe),me=n(85),xe=Object(J.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},root:{"& .MuiTextField-root":{margin:e.spacing(1)}},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},googleButton:{marginBottom:e.spacing(2)}}})),ge=n(174),ve=n(175),ye=n(86),Ce=n.n(ye),we=n(87),ke=n.n(we),Ne=function(e){var t=e.name,n=e.handleChange,r=e.label,c=e.half,o=e.autoFocus,i=e.type,s=e.handleShowPassword;return Object(a.jsx)(V.a,{item:!0,xs:12,sm:c?6:12,children:Object(a.jsx)(ae.a,{name:t,onChange:n,variant:"outlined",required:!0,fullWidth:!0,label:r,autoFocus:o,type:i,InputProps:"password"===t?{endAdornment:Object(a.jsx)(ge.a,{position:"end",children:Object(a.jsx)(ve.a,{onClick:s,children:"password"===i?Object(a.jsx)(Ce.a,{}):Object(a.jsx)(ke.a,{})})})}:null})})},Se=function(){return Object(a.jsx)("svg",{style:{width:"20px",height:"20px"},viewBox:"0 0 24 24",children:Object(a.jsx)("path",{fill:"currentColor",d:"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z"})})},Ie={email:"",password:"",confirmPassword:"",firstName:"",lastName:""},Te=function(){var e=xe(),t=Object(D.f)(),n=Object(s.b)(),c=Object(r.useState)(!1),o=Object(N.a)(c,2),i=o[0],l=o[1],u=Object(r.useState)(Ie),d=Object(N.a)(u,2),j=d[0],p=d[1],b=Object(r.useState)(!1),h=Object(N.a)(b,2),f=h[0],m=h[1],x=function(e){p(Object(y.a)(Object(y.a)({},j),{},Object(he.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(C.a)(v.a.mark((function e(a){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=null===a||void 0===a?void 0:a.profileObj,c=null===a||void 0===a?void 0:a.tokenId;try{n({type:"AUTH",data:{result:r,token:c}}),t.push("/")}catch(o){console.log(o)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)(S.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)(te.a,{className:e.paper,elevation:3,children:[Object(a.jsx)(ue.a,{className:e.avatar,children:Object(a.jsx)(Oe.a,{})}),Object(a.jsx)(ne.a,{variant:"h5",children:f?"Sign Up":"Sign In"}),Object(a.jsxs)("form",{className:e.form,onSubmit:function(e){e.preventDefault(),n(f?function(e,t){return function(){var n=Object(C.a)(v.a.mark((function n(a){var r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U(e);case 3:r=n.sent,c=r.data,a({type:O,data:c}),t.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(j,t):function(e,t){return function(){var n=Object(C.a)(v.a.mark((function n(a){var r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,H(e);case 3:r=n.sent,c=r.data,a({type:O,data:c}),t.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(j,t))},children:[Object(a.jsxs)(V.a,{container:!0,spacing:2,children:[f&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ne,{name:"firstName",label:"First Name",handleChange:x,autoFocus:!0,half:!0}),Object(a.jsx)(Ne,{name:"lastName",label:"Last Name",handleChange:x,half:!0})]}),Object(a.jsx)(Ne,{name:"email",label:"Email Address",handleChange:x,type:"email"}),Object(a.jsx)(Ne,{name:"password",label:"Password",handleChange:x,type:i?"text":"password",handleShowPassword:function(){return l((function(e){return!e}))}}),f&&Object(a.jsx)(Ne,{name:"confirmPassword",label:"Repeat Password",handleChange:x,type:"password"})]}),Object(a.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:f?"Sign Up":"Sign In"}),Object(a.jsx)(me.GoogleLogin,{clientId:"852955252667-o9jtp23lh5t7u4nfsnrkk36k579clvm7.apps.googleusercontent.com",render:function(t){return Object(a.jsx)(I.a,{className:e.googleButton,color:"primary",fullWidth:!0,onClick:t.onClick,disabled:t.disabled,startIcon:Object(a.jsx)(Se,{}),variant:"contained",children:"Google Sign In"})},onSuccess:g,onFailure:function(){console.log("Google sign in failure")},cookiePolicy:"single_host_origin"}),Object(a.jsx)(V.a,{container:!0,justify:"flex-end",children:Object(a.jsx)(V.a,{item:!0,children:Object(a.jsx)(I.a,{onClick:function(){return m((function(e){return!e}))},children:f?"Already have an account? Sign in":"Don't have an account? Sign up"})})})]})]})})},Fe=(n(129),{hidden:{display:"none"},nonHidden:{display:"block"}}),De=c.a.createContext(Fe.hidden),Le=function(){var e=c.a.useContext(De).hide,t=Object(r.useState)(null),n=Object(N.a)(t,2),o=n[0],i=n[1],l=z(),u=Object(s.b)();return Object(r.useEffect)((function(){u(R())}),[o,u]),Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{children:Object(a.jsx)(Ee,{})}),Object(a.jsx)(S.a,{className:l.form,style:{display:e.display},children:Object(a.jsx)(ie,{currentId:o,setCurrentId:i})}),Object(a.jsx)("hr",{className:l.line}),Object(a.jsx)(S.a,{className:l.posts,children:Object(a.jsx)(ee,{setCurrentId:i})})]})},Ee=function(){var e=c.a.useContext(De).setHide;return Object(a.jsxs)("div",{children:[Object(a.jsx)(I.a,{onClick:function(){e("hidden")},children:"Hide Form"}),Object(a.jsx)(I.a,{onClick:function(){e("nonHidden")},children:"Show Form"})]})},Be=function(){var e=z(),t=c.a.useState("hidden"),n=Object(N.a)(t,2),r=n[0],o=n[1];return Object(a.jsx)(T.a,{in:!0,children:Object(a.jsx)(S.a,{className:e.content,children:Object(a.jsx)(De.Provider,{value:{hide:Fe[r],setHide:o},children:Object(a.jsx)(Le,{})})})})},Pe=function(){return Object(a.jsx)(F.a,{children:Object(a.jsxs)(S.a,{maxwidth:"lg",children:[Object(a.jsx)(be,{}),Object(a.jsxs)(D.c,{children:[Object(a.jsx)(D.a,{path:"/",exact:!0,component:Be}),Object(a.jsx)(D.a,{path:"/auth",exact:!0,component:Te})]})]})})},Ae=Object(l.e)(k,Object(l.d)(Object(l.a)(u.a)));i.a.render(Object(a.jsx)(s.a,{store:Ae,children:Object(a.jsx)(Pe,{})}),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.888e2d69.chunk.js.map